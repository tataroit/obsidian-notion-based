- Теряю квалификацию
    
    - Освободится от текущей рутины. Переложить работу на плечи других разработчиков и перестать быть нянькой для них
    
    - Перетрясти текущий беклог
        
        - Выстроить план с постепенным закрытием вопросов из него
        
        - Планомерно закрывать их
        
    
    - Написать им внятные инструкции по тому, что и как нужно делать. От А до Б, что бы на их вопросы были ответы, и находили их там, а не звали меня, не отвлекали
        
        - **Сделать удобный роадмап по всей доке.**
            
            - **Единая точка входа, из которой самостоятельно можно найти ответы на всё**
            
            - **Сделать на базе документации от Вани для фронтов**
            
            - **Собрать раздел со ссылками**
            
            - **У команды не должно остаться непонятных моментов. На каждый вопрос есть ответ в документации команды. Вопрос - ищи в документации**
            
            - **После этого этапа, команда сможет самостоятельно найти все ответы на свои вопросы, и не будет ходить ко мне ежедневно за деталями**
            
            - **Перенести туда раздел работы по процессам (скрам, DoR и прочее)**
            
        
        - ~~**Рабочие процессы. Попунктно**~~
            
            - ~~**Скрам**~~
            
            - ~~**Приёмка задач**~~
            
            - **Как работать с задачами (в джире)**
            
            - **Приёмка макетов**
            
            - **Как работать с ветками**
            
            - **Как МР-ы строить, коммиты**
            
            - **Как работать с командой**
            
            - **Снабдить команду нормальной инструкцией. Что бы могли самостоятельно работать по ней**
            
        
        - **Техническая документация и описания**
            
            - **Ридми по проектам**
            
            - **Краткие описания того, как работают базовые механизмы и процессы (подписание, нотификации, тестирование, и прочее). Может быть, в аналитике описывать общими словами что за фича и как работает, и давать на это ссылку.** ==**В доке это полностью не описать**==**, но понимание как-то вкладывать в головы необходимо**
            
        
        - Настроить рабочие процессы
            
            - Дать понимание как работать с задачами
            
            - Научить работать с гитом и ветками. Деплоем
            
            - Подход к оформлению и ведению активности в джире. Работе с тестировщиками
            
        
        - Распределить их по командам/проектам
            
            - Есть ответственные на каждом проекте
            
            - Соответствующий спрос с этих людей
            
            - Я лишь на подстраховке небольшой, оказываю им консультации и слежу за людьми
            
            - Встраивать их в рабочие процессы
            
            - У кеш менеджмента не должно остаться ко мне вопросов про рабочим проектам. В первую очередь идут к фронтам, которые работают над проектами, и они в них делают задачи и понимают контекст происходящего
            
            - Перевести сами команды на нормальный рабочий формат
            
        
        - ~~По итогу, всю фронтовую работу делают сами фронты. Я не влезаю туда вниз. Только если сам этого захочу~~
        
    
    - Харды восстановить и прокачать дальше
        
        - Изучить существующие практики и наработки
            
            - Микрофронты
            
            - Пайпы и CI/CD
            
            - Сборка проектов, интеграция дрг с другом
            
            - Утилитарные вещи в проектах
            
            - Принципы работы основных механизмов
            
            - Перечитать всю имеющуюся доку
            
        
        - Разобраться в устройстве и принципе функционирования всего того, что есть
        
        - Выйти на передний край изменений в проводимой работе (что и как делает Костя)
        
        - Стать проводником от Кости в команду
        
        - Освоить и зафиксировать все изменения в проектах. Вынести это в конспекты
        
        - Начать внедрять самостоятельно новые последние доработки и изменения
        
    
    - ~~Сформировать чёткий и нормальный план перехода на новый формат работы, по которому нужно будет двигать всё это~~
    
    - **Формат итоговой ожидаемой работы:**
        
        - Приношу от Платформы новшества
        
        - Помогаю в решении сложных задач в первый раз (новинки). В следующий раз это уже тиражирует команда
        
        - Смотрю вперёд и занимаюсь вопросами общего улучшения. Процессов и технологий
        
        - Слежу за состоянием людей
        
        - Нормальный график работы, без горения и переутруждения. Наличие собственной личной жизни
        
        - Большая часть рабочего времени будет состоять из того, что могу заниматься своими, важными на мой взгляд, делами. Важными и фундаментальными, но теми, которые нужны мне. Всячина ляжет на команду
        
        - Смогу отвлечься от ежедневной рутины, и там ничего не упадёт
        
    

  

  

  

## Конспект по микрофронтендам с использованием Module Federation

### **1. Введение в микрофронтенды**

**Микрофронтенды** — это архитектурный подход, при котором фронтенд-приложение делится на независимые модули или сервисы, каждый из которых:

- Может разрабатываться отдельной командой.

- Развёртывается и обновляется независимо.

- Интегрируется динамически в браузере.

- **Module Federation** — ключевая технология, позволяющая динамически подключать модули из одного приложения в другое.

---

**Module Federation** — это **концепция** и **реализация**, которая позволяет делить код между приложениями, независимо развёртывать его и подключать модули на этапе выполнения (runtime). Её можно рассматривать как **архитектурный подход**, а в Webpack 5 — это конкретная **реализация концепции** через встроенный инструмент `ModuleFederationPlugin`.

  

Можно рассматривать под разными углами

Module Federation — это:

1. **Концепция:**
    
    - Module Federation — это **абстрактная идея** того, как приложения могут:
        
        - Динамически делить код.
        
        - Избегать дублирования общих библиотек.
        
        - Независимо развёртываться.
        
    
    - Позволяет независимым приложениям или модулям делиться кодом и динамически подключать его.
    
    - Применима для микрофронтендов, серверных приложений (SSR), а также других сценариев, где нужно раздельное управление кодом.
    
    > Аналогично тому, как REST или GraphQL — это концепции для передачи данных, Module Federation — концепция для деления модулей.
    

1. **Реализация:**
    
    - Webpack 5 предоставляет **инструментальную реализацию** этой концепции.
        
        - Например, с `ModuleFederationPlugin` вы:
            
            - Объявляете модули, которые хотите экспортировать (`exposes`).
            
            - Подключаете модули, предоставляемые другими приложениями (`remotes`).
            
            - Управляете версиями зависимостей через `shared`.
            
        
        - В Webpack 5 реализована как `ModuleFederationPlugin`, который генерирует `remoteEntry.js` и управляет динамическим подключением модулей.
        
    
    - Также существует реализация для других инструментов сборки, например, **RSPack**, **Rollup**, **esbuild**, **Vite**, и даже для серверных технологий (Node.js).
    

1. **Подход к архитектуре:**
    
    - Module Federation часто используется для построения микрофронтендов:
        
        - Каждое приложение — это независимый модуль.
        
        - Приложения интегрируются в браузере через динамическую загрузку.
        
    
    - Но подход применим не только к фронтенду:
        
        - На сервере для SSR.
        
        - В бэкенд-приложениях для модульной организации API.
        
    
    - Строится на идее модульности и независимости компонентов.
    
    - Используется для микрофронтендов, но может быть адаптирована и к другим архитектурным задачам.
    

---

  

### **2. Основные термины Module Federation**

- **Remote (удалённое приложение)** — приложение, предоставляющее модули другим.

- **Host (хост-приложение)** — приложение, которое использует модули из удалённых приложений.

- **Exposes** — список модулей, которые Remote-приложение предоставляет другим.

- **Shared (общие зависимости)** — библиотеки, разделяемые между Host и Remote (например, React).

  

### **3. Как работает Module Federation**

1. **Build-Time (этап сборки):**
    
    1. Webpack создаёт **remoteEntry.js** — точку входа Remote-приложения, которая:
        
        1. Содержит информацию о всех экспортируемых модулях.
        
        1. Описывает зависимости (shared libraries).
        
    
    1. Каждое приложение собирается независимо, создавая свои собственные бандлы.
    

1. **Runtime (этап исполнения):**
    
    - Host-приложение динамически загружает **remoteEntry.js** через указанный URL.
    
    - Host вызывает `get` для загрузки нужного модуля (например, `Header`).
    
    - Webpack проверяет shared-зависимости и загружает отсутствующие файлы.
    

  

### **4. Вопросы о сути Module Federation**

Module Federation, по своей сути, — это не про интеграцию приложений в традиционном понимании (например, взаимный вызов API или совместную работу серверов). Это:

1. **Механизм подгрузки статических модулей:**
    
    - Каждое приложение (Remote или Host) формирует набор статичных файлов (бандлов), которые включают код приложения и экспортируемые модули.
    
    - Эти файлы становятся доступными через HTTP (например, через CDN или сервер).
    

1. **Подгрузка файлов в браузере:**
    
    - Host-приложение не взаимодействует с Remote-приложением напрямую. Вместо этого оно загружает статичные файлы Remote (например, `remoteEntry.js` и модули, такие как `header.js`).
    
    - Модули исполняются в контексте Host-приложения.
    

1. **Изолированность приложений:**
    
    - Remote и Host остаются независимыми. Нет общей интерактивной интеграции или взаимодействия серверов.
    
    - Всё сводится к тому, что Host использует код Remote как внешнюю библиотеку.
    

1. **Нет динамической связи между сервисами:**
    
    - Module Federation не предоставляет встроенных механизмов для передачи данных или событий между приложениями. Эти задачи решаются другими инструментами (например, Pub/Sub или API).
    

**Таким образом, Module Federation — это способ масштабируемо и гибко разделить фронтенд-приложение на изолированные модули, которые динамически загружаются и исполняются в браузере.**

  

**4. Настройка Module Federation**

### Пример конфигурации Host:

```JavaScript
new ModuleFederationPlugin({
  name: "host",
  remotes: {
    nav: "nav@https://cdn.example.com/nav/remoteEntry.js",
  },
  shared: {
    react: {
      singleton: true,
      strictVersion: true,
      requiredVersion: ">=16.0.0 <17.0.0",
    },
    "react-dom": {
      singleton: true,
      strictVersion: true,
    },
  },
});
```

### Пример конфигурации Remote:

```JavaScript
new ModuleFederationPlugin({
  name: "nav",
  filename: "remoteEntry.js",
  exposes: {
    "./Header": "./src/components/Header",
  },
  shared: {
    react: {
      singleton: true,
      requiredVersion: "^16.13.1",
    },
    "react-dom": {
      singleton: true,
    },
  },
});
```

1. **Преимущества и недостатки Module Federation**
    
    1. **Преимущества**
    
    1. **Преимущества**
        
        - Каждый микрофронт развёртывается и обновляется отдельно.
        
        - Разные команды могут работать над отдельными модулями.
        
        - Модули загружаются только при необходимости.
        
        - Общие зависимости не дублируются.
        
    
    1. **Недостатки**
        
        1. **Проблема кэширования:**
            
            - Решение: использовать хэширование файлов и строгий контроль заголовков Cache-Control.
            
        
        1. **Несовместимость версий зависимостей:**
            
            - Решение: использовать `strictVersion` и `requiredVersion` для shared-зависимостей.
            
        
        1. **Долгая загрузка модулей:**
            
            - Решение: размещение файлов на CDN для быстрой доставки.
            
        
    

  

  

  

  

  

  

  

  

  

  

---

Микрофронты

Module Federation

  

Проблема: нужно часто доставлять новый код в прод. Разные сервисы, приложения и их части

Сложность: процесс доставки осложняется разными проблемами: длительные процессы, большие команды, зависимые команды, связанные фичи, сложный релиз, и многими другими

Решения: доставлять приложения и их части по отдельности

  

Способы

Старые

- В виде npm-пакетов. Надо обновлять отдельный пакет. Покрывать тестами, учитывать потребности потребителей, поддерживать версии, постоянно явно обновлять и пакет и его использование (на обоих концах), учитывать что может быть задеплоена разная версия компонентов. Устаревающие зависимости

- Экзотические варианты с NPM Shim, деплоем контейнера с Module-code and Build System в S3 и другими вариациями со сложными интеграциями одного приложения в другое. Отдельный деплой с системой интеграций, подгрузкой и исполнения кода

Новые

- Ирония в том, что до бандлеров не было проблем с этим. Каждый фрагмент был отдельным файлом, и просто подтягивался на страницу при необходимости

- Module-Federation
    
    - Просто экспоуз рантайм-зависимостей, которые могут быть импортированы в другие приложения